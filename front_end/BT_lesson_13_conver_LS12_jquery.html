<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>BT lesson 13 conver LS 12 Jquery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
      body {
        background-color: grey;
      }
      #form {
        width: 30%;
        background-color: green;
        border: 1px solid black;
        margin: auto;
        padding: 10px;
        margin-top: 30px;
        margin-bottom: 30px;
      }
      h2 { 
        text-align: center; 
        color: red;
      }
      #info-text {
        width: 90%;
        background-color: yellow;
        border: 1px solid black;
        margin: auto;
        padding: 10px;
        margin-bottom: 30px;
      }
      label {
        font-family: Arial;
        font-size: 20px;
        font-weight: bold;
      }
      .form-control {
        font-family: Arial;
        font-weight: bold;
      }
      label.form-label1::after {
        content: "*";
        color: red;
        margin-left: 5px;
      }      
      p.hide { 
        display: none; 
      } 
      #submit {
        border: 1px solid black;
      }
      #info-text {
        text-align: center;
      }
      .info-tt {
        color: red;                       
      }
      
    </style>
  </head>

<body>      
      <div id="form">
        <h2>Form Register Information</h2>
        <div class="mb-3">
          <label for="Input-name" class="form-label1">Name</label>
          <input type="name" class="form-control" id="Input-name" placeholder="Full name" maxlength="30">
          <p id="text-name" class="hide" style="color: red;">Vui lòng nhập chữ, số, _, -, tối đa là 30 kí tự !</p>
        </div>
        <div class="mb-3">
          <label for="Input-email" class="form-label1">Email</label>
          <input type="email" class="form-control" id="Input-email" placeholder="Name@gmail.com">
          <p id="text-email" class="hide" style="color: red;"> Vui lòng nhập đúng định dạng email VD:huy@gmail.com !</p>
        </div>
        <div class="mb-3">
          <label for="Input-phone" class="form-label1">Phone</label>
          <input type="phone" class="form-control" id="Input-phone" placeholder="+84.." maxlength="11">
          <p id="text-phone" class="hide" style="color: red;">Vui lòng chỉ nhập số , số đầu tiên là số 0 ,độ dài từ 9 đến 11 kí tự</p>
        </div>
        <div class="mb-3">
          <label for="Input-addres" class="form-label1">Address</label>
          <input type="addres" class="form-control" id="Input-addres" placeholder="...">
        </div>
        <div class="mb-3">
          <label for="Input-birthday" class="form-label1">Birthday</label>
          <input type="date" class="form-control" id="Input-birthday" placeholder="dd/mm/yyyy">
        </div>
          <label for="Input-gioitinh" class="form-label1">Giới Tính</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
          <label class="form-check-label" for="flexRadioDefault1">
            Nam
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
          <label class="form-check-label" for="flexRadioDefault2">
            Nữ
          </label>
        </div>
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">Textarea Infor</label>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-label1" for="flexCheckDefault">
            Đồng Ý Điều Khoản !
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" >
          <label class="form-check-label" for="flexCheckChecked">
            Nhận Thông Báo !
          </label>
        </div>
        <div class="mb-3">
          <button id="submit" type="button" class="btn btn-primary" disabled>Register</button>
        </div>
      </div>  
      <div id="info-text">
        <label for="info" class="info-tt">Thông Tin Nhân Viên</label>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

      <script>
        $(document).ready(function() {
              // check input Empty
          $('#form').change(function() {
              var name = $('#Input-name').val();
              var email = $("#Input-email").val();
              var phone = $("#Input-phone").val();
              var address = $("#Input-addres").val();
              var birthday = $("#Input-birthday").val();
              var check_name = $("#flexRadioDefault1:checked").val();            
              var check_nu = $("#flexRadioDefault2:checked").val();
              var check_dieukhoan = $("#flexCheckDefault:checked").length;
              typeof(check_name);
              if (name != '' && email != '' && phone != '' && address != '' && birthday != '' && ((check_name||check_nu) != 'undefined') && (check_dieukhoan != '0')) {
                $('#submit').removeAttr('disabled');
                console.log('remove'); 
              }
              else {
                $('#submit').attr('disabled');
                console.log('add');
              }              
          });       
              // check text name match
          $('#Input-name').keydown(function() { 
              var name = $('#Input-name').val();   
              var name_match = name.match(/[a-zA-Z0-9_-\s]+/g);
              var name_replace = name.replace(name_match,'');
              if (name_replace != '') {
                $('#text-name').show();
              }
              else {
                $('#text-name').hide();
              }
          });      
              // check email match
          $('#Input-email').keydown(function() { 
              var email = $("#Input-email").val();   
              var mail_match = email.match(/^[a-zA-Z0-9_-]+.@[a-zA-Z]+.[a-zA-Z]+$/g);
              var mail_replace = email.replace(mail_match,'');
              if (mail_replace != '') {
                $('#text-email').show();
              }
              else {
                $('#text-email').hide();
              }
          });       
              // check phone match
          $('#Input-phone').keydown(function() {
              var phone = $("#Input-phone").val();    
              var phone_match = phone.match(/0[0-9]+/g);
              var phone_replace = phone.replace(phone_match,'');
              if (phone_replace != '' || phone.length < 9 || phone.length > 11) {
                $('#text-phone').show();
              }
              else {
                $('#text-phone').hide();
              }  
          });         
          
              // click register info     
          $('#submit').click(function() {
            let name = $('#Input-name').val();
            let email = $("#Input-email").val();
            let phone = $("#Input-phone").val();
            let address = $("#Input-addres").val();
            let birthday = $("#Input-birthday").val();
            let check_name = $("#flexRadioDefault1:checked").val();            
            let check_nu = $("#flexRadioDefault2:checked").val();
            if (check_name == 'on') {
              var gioitinh = 'Gioi Tinh: Nam';
            }
            else if (check_nu == 'on') {
              var gioitinh = 'Gioi Tinh: Nu';
            }
            let other = $("#exampleFormControlTextarea1").val();
            let info = name + ' - ' + email + ' - ' + phone + ' - ' + address + ' - ' + birthday + ' - Other: ' + other + ' - ' + gioitinh;
            
            $('#info-text').append('<div>' + '<p>' + info + '</p>' + '</div>');
            // $('#info-text div').attr({'id': 'info-new'});
            // $('#info-text p').attr({
            //   'style': 'color:blue; font-family: Arial; font-size: 15px'              
            // });                   
            $('#info-text div p').append('<button>' + ' Deleteee ' + '</button>');

            $('#Input-name').val('');
            $("#Input-email").val('');
            $("#Input-phone").val('');
            $("#Input-addres").val('');
            $("#Input-birthday").val('');
            $("#exampleFormControlTextarea1").val('');


          });    
            $('#info-text div button').click(function() {
              $('#info-text div').remove();
          });
            // $('#info_new div button').attr({
            //   'style': 'border: 2px solid pink; margin-left: 15px'
            // });

          
            
            


        });  
      </script>

</body>
</html>